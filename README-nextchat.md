# NextChat Integration

This project uses a modified version of [NextChat](https://github.com/ChatGPTNextWeb/NextChat) for its user interface. To keep the repository size manageable and avoid storing the entire NextChat codebase, we've implemented a solution that:

1. Stores only our custom modifications in the `custom-nextchat-files/` directory
2. Provides a setup script (`setup-nextchat.sh`) to download the original NextChat repository and apply our modifications

## Setup Instructions

When you first clone this repository, you'll need to set up NextChat:

```bash
# Make the setup script executable (if it's not already)
chmod +x setup-nextchat.sh

# Run the setup script
./setup-nextchat.sh
```

This will:
1. Clone the NextChat repository into the `nextchat/` directory
2. Check out the specific commit (3fdbf01098dd86aec5f5644532de222e87ba7e50) that our modifications are based on
3. Apply our custom modifications from `custom-nextchat-files/`
4. Create a `.env.local` file with the necessary configuration

After running the setup script, you can start NextChat:

```bash
cd nextchat
yarn install
yarn dev
```

## Custom Modifications

Our custom modifications to NextChat include:

1. **Dynamic Tailwind CSS Generation**: Added an API route (`app/api/generate-tailwind-css/route.ts`) to dynamically generate Tailwind CSS for TSX strings.

2. **MCP Server Integration**: Modified NextChat to work with our MCP servers (`stonk-research-mcp-server`, `wealthfront-mcp-server`).

3. **Artifact Rendering**: Enhanced the chat interface to display HTML artifacts generated by MCP tools.

## Making Changes

If you need to make additional changes to NextChat:

1. Make your changes in the `nextchat/` directory
2. Copy the modified files to the corresponding location in `custom-nextchat-files/`
3. Commit the changes to the `custom-nextchat-files/` directory

For more details, see the README in the `custom-nextchat-files/` directory.

## Why This Approach?

This approach offers several benefits:

1. **Reduced Repository Size**: We don't need to store the entire NextChat codebase in our repository.
2. **Clear Tracking of Modifications**: It's easy to see exactly what files we've modified.
3. **Easy Updates**: When a new version of NextChat is released, we can update the setup script to use the new version.
4. **Simple Setup**: New developers can quickly get started with a single setup script.

This is a lightweight alternative to creating a fork of NextChat, which would require maintaining a separate repository and dealing with merge conflicts when updating from the upstream repository.
